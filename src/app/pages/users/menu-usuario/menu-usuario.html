<div class="contenedor-principal">
  <!-- Columna izquierda: botones + lista -->
  <div class="lista-columna">
    <!-- Botones de filtros (ya existentes) -->
    <div class="botones-filtros">
      <button (click)="mostrarCancionesGenerales()" [class.active]="filtroActivo === 'general'">
        Hits del Momento
      </button>
      <button (click)="mostrarFavoritas()" [class.active]="filtroActivo === 'favoritas'">
        Your Loves
      </button>
      <button (click)="mostrarDescubrimiento()" [class.active]="filtroActivo === 'descubrimiento'">
        PlayList de la Semana
      </button>
    </div>

    <!-- Lista de canciones debajo de los botones -->
    <div class="lista-wrapper">
      <app-lista-canciones
        [canciones]="canciones"
        [alturaLista]="600"
        (cancionSeleccionada)="onSeleccionarCancion($event)"
      >
      </app-lista-canciones>
    </div>
  </div>

  <!-- Columna derecha: banner con scroll interno -->
  <div class="banner-columna" *ngIf="cancionActual">
    <div class="banner-cancion-profesional">
      <img class="banner-portada" [src]="cancionActual.urlPortada" alt="Portada CanciÃ³n" />
      <div class="banner-info-scroll">
        <h3>{{ cancionActual.titulo }}</h3>
        <p *ngIf="artistaActual">Artista: {{ artistaActual.nombreArtistico }}</p>
        <p *ngIf="!artistaActual">Artista desconocido</p>
        <p class="banner-miembros" *ngIf="artistaActual && artistaActual.miembros.length">
          Miembros: {{ artistaActual.miembros.join(', ') }}
        </p>
        <p class="banner-descripcion" *ngIf="artistaActual">{{ artistaActual.descripcion }}</p>
        <img
          *ngIf="artistaActual"
          [src]="artistaActual.urlImagen"
          alt="Foto Artista"
          class="banner-artista"
        />
      </div>
    </div>
  </div>
</div>

<!-- Reproductor fijo inferior estilo Spotify -->
<div class="player-container" *ngIf="cancionActual">
  <!-- contenido player (igual que antes) -->
</div>

<!-- Reproductor fijo inferior estilo Spotify -->
<div class="player-container" *ngIf="cancionActual">
  <div class="player-left">
    <img [src]="cancionActual.urlPortada" class="player-cover" />
    <div class="player-info">
      <h3>{{ cancionActual.titulo }}</h3>
      <p *ngIf="artistaActual">{{ artistaActual.nombreArtistico }}</p>
      <p *ngIf="!artistaActual">Artista desconocido</p>
    </div>
  </div>

  <div class="player-center">
    <div class="controls">
      <button class="control-btn" (click)="anteriorCancion()">
        <i class="fa fa-step-backward"></i>
      </button>

      <button class="control-btn play-btn" (click)="togglePlay()">
        <i class="fa" [ngClass]="reproduciendo ? 'fa-pause' : 'fa-play'"></i>
      </button>

      <button class="control-btn" (click)="siguienteCancion()">
        <i class="fa fa-step-forward"></i>
      </button>

      <button
        class="control-btn"
        (click)="iniciarRadio()"
        [class.active]="filtroActivo === 'radio'"
      >
        <i class="fa fa-broadcast-tower"></i>
      </button>

      <button class="control-btn" (click)="toggleFavorito()">
        <i [ngClass]="esFavorita ? 'fas fa-heart' : 'far fa-heart'"></i>
      </button>
    </div>

    <div class="progress-wrapper">
      <span class="time">{{ tiempoActual }}</span>
      <input type="range" class="progress-bar" [value]="progreso" (input)="cambiarTiempo($event)" />
      <span class="time">{{ duracionTotal }}</span>
    </div>
  </div>

  <div class="player-right">
    <i class="fa fa-volume-up"></i>
    <input
      type="range"
      class="volume-bar"
      min="0"
      max="1"
      step="0.01"
      (input)="cambiarVolumen($event)"
    />
  </div>

  <audio id="player-audio" [src]="cancionActual.urlCancion"></audio>
</div>
