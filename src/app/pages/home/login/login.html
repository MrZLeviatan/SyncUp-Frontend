<!-- AUTH LAYOUT -->
<div class="auth-page">
  <div class="auth-wrapper">
    <!-- LEFT SIDE ILLUSTRATION -->
    <div class="auth-left">
      <img
        src="https://res.cloudinary.com/dehltwwbu/image/upload/v1763460660/ImagenLoginSpoky_ujh5gj.png"
        alt="Ilustración"
        class="auth-illustration"
      />
    </div>

    <!-- RIGHT SIDE FORM -->
    <div class="auth-right">
      <div class="auth-card">
        <!-- LOGO -->
        <img
          src="https://res.cloudinary.com/dehltwwbu/image/upload/v1763501088/20251115_1816_Calabaza_Espeluznante_y_Tierna_remix_01ka4wsyhgf13sb21znmny077w_1_exm3od.png"
          alt="Logo"
          class="logo-corner"
        />

        <!-- TABS -->
        <div class="auth-tabs">
          <button class="tab-btn" [class.active]="mostrarLogin" (click)="showLogin()">Login</button>
          <button class="tab-btn" [class.active]="!mostrarLogin" (click)="showRegister()">
            Registro
          </button>
        </div>

        <!-- LOGIN FORM (sin cambios en funcionalidad) -->
        <form *ngIf="mostrarLogin" [formGroup]="loginForm" (ngSubmit)="onLogin()" class="auth-form">
          <div class="form-scroll">
            <h2 class="title">Bienvenido a Spookify!</h2>

            <label>Username</label>
            <input type="text" formControlName="username" placeholder="Tu usuario" />

            <label>Password</label>
            <input type="password" formControlName="password" placeholder="Tu contraseña" />
          </div>

          <button class="submit-btn" type="submit">Ingresar</button>
        </form>

        <!-- REGISTER FORM (solo este tendrá scroll interno) -->
        <form
          *ngIf="!mostrarLogin"
          [formGroup]="registerForm"
          (ngSubmit)="onRegister()"
          class="auth-form"
        >
          <div class="form-scroll">
            <h2 class="title">Crear Tu Cuenta</h2>

            <label>Imagen de perfil</label>
            <div class="profile-upload">
              <img *ngIf="previewImage" [src]="previewImage" class="profile-preview" />
              <input type="file" accept="image/*" (change)="onImageSelected($event)" />
            </div>

            <label>Nombre</label>
            <input type="text" formControlName="nombre" placeholder="Tu nombre" />

            <label>Username</label>
            <input type="text" formControlName="username" placeholder="Usuario único" />

            <label>Password</label>
            <input type="password" formControlName="password" placeholder="Tu contraseña" />

            <p class="terms">
              Al registrarte aceptas ser poseido por tres tipos diferentes de espiritus.
            </p>
          </div>

          <!-- botón fuera del scroll para que esté siempre accesible -->
          <button class="submit-btn" type="submit">Crear cuenta</button>
        </form>
      </div>
    </div>
  </div>
</div>
