<!-- AUTH LAYOUT -->
<div class="auth-page">
  <div class="auth-wrapper">
    <!-- LEFT PANEL -->
    <div class="auth-left">
      <img
        src="https://res.cloudinary.com/dehltwwbu/image/upload/v1763460660/ImagenLoginSpoky_ujh5gj.png"
        alt="Imagen decorativa"
        class="auth-illustration"
      />
    </div>

    <!-- RIGHT PANEL -->
    <div class="auth-right">
      <div class="auth-card">
        <img
          src="https://res.cloudinary.com/dehltwwbu/image/upload/v1763232927/IconoMusica_fiotax.png"
          alt="Logo"
          class="logo-corner"
        />

        <!-- SWITCH TABS -->
        <div class="auth-tabs">
          <button class="tab-btn" [class.active]="mostrarLogin" (click)="showLogin()">Login</button>
          <button class="tab-btn" [class.active]="!mostrarLogin" (click)="showRegister()">
            Registro
          </button>
        </div>

        <!-- LOGIN FORM -->
        <form *ngIf="mostrarLogin" [formGroup]="loginForm" (ngSubmit)="onLogin()" class="auth-form">
          <h2 class="title">¡Bienvenido a Spookify!</h2>

          <label>Username</label>
          <input type="text" formControlName="username" placeholder="Tu usuario" />

          <label>Password</label>
          <input type="password" formControlName="password" placeholder="Tu contraseña" />

          <button class="submit-btn" type="submit">Ingresar</button>
        </form>

        <!-- REGISTER FORM -->
        <form
          *ngIf="!mostrarLogin"
          [formGroup]="registerForm"
          (ngSubmit)="onRegister()"
          class="auth-form"
        >
          <h2 class="title">Crear cuenta</h2>

          <!-- PROFILE IMAGE SECTION -->
          <label>Imagen de perfil</label>

          <div class="profile-upload">
            <img
              *ngIf="previewImage"
              [src]="previewImage"
              alt="Vista previa"
              class="profile-preview"
            />

            <!-- Input con conexión correcta -->
            <input type="file" accept="image/*" (change)="onImageSelected($event)" />
          </div>

          <!-- TEXT FIELDS -->
          <label>Nombre</label>
          <input type="text" formControlName="nombre" placeholder="Ingresa tu nombre" />

          <label>Username</label>
          <input type="text" formControlName="username" placeholder="Usuario único" />

          <label>Password</label>
          <input type="password" formControlName="password" placeholder="Crea tu contraseña" />

          <p class="terms">
            Al registrarte, aceptas ser poseído por tres espectros musicales ancestrales.
          </p>

          <button class="submit-btn" type="submit">Crear cuenta</button>
        </form>
      </div>
    </div>
  </div>
</div>
